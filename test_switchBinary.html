<!DOCTYPE html>
<html>
<head>
    <title>Test switchBinary</title>
</head>
<body>
    <h1>Testing switchBinary</h1>
    <pre id="output"></pre>

    <script src="haskish.js"></script>
    <script>
        const interpreter = new HaskishInterpreter();
        const output = document.getElementById('output');
        
        const code = `
switchBinary [] = []
switchBinary (x:xs) 
  | x == 0 = 1 : switchBinary xs
  | x == 1 = 0 : switchBinary xs
  | otherwise = error "encountered a value that is not 0 or 1"
`;
        
        try {
            interpreter.parseFunctionDefinitions(code);
            
            // Debug: Check what was parsed
            output.textContent += "Parsed functions:\n";
            output.textContent += JSON.stringify(interpreter.functions, null, 2) + "\n\n";
            
            // Test
            const result = interpreter.evaluate('switchBinary [1,1,1,0,0,0]');
            output.textContent += "Result: " + JSON.stringify(result) + "\n";
        } catch (error) {
            output.textContent += "Error: " + error.message + "\n";
            output.textContent += error.stack + "\n";
        }
    </script>
</body>
</html>
